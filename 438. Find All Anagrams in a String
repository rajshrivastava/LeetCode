class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        p_dic = collections.defaultdict(int)
        for ch in p:
            p_dic[ch] += 1
        
        s_len = len(s)
        p_len = len(p)
        if s_len < p_len:
            return []
        answer = []
        for i in range(p_len):
            p_dic[s[i]] -= 1
        anagram = True
        for val in p_dic.values():
            if val:
                anagram = False
                break
        if anagram:
            answer.append(i+1-p_len)
            
        for i in range(p_len, s_len):
            p_dic[s[i-p_len]] += 1
            p_dic[s[i]] -= 1
            
            anagram = True
            for val in p_dic.values():
                if val:
                    anagram = False
                    break
            if anagram:
                answer.append(i-p_len+1)
        
        return answer
